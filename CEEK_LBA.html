<!--Coded by Madison Wright
    Contact: wrightmadison@gmail.com-->

<!--Variable Conventions for this code:
    '' used for variable values, element IDs, etc. (information that is not displayed to the user)
    "" used for string values, text, etc. (information that is displayed to the user)-->

<DOCTYPE html>
<html>
	<head>
		<style>
			#title {
				position: relative;
				overflow: hidden; 
				padding-left: 15px;
			}

			#company, #tool {
				position: relative;
				float: left; 
			}

			#company {
				padding-top: 1.75px; /*aligns the CEEK logo with the title text*/
			}

			#tool {
				font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
				color: black;
				text-align: left;
				font-weight: bold;
			}

			.subtitle, label {
				font-family: "Helvetica";
				color: black;
				text-align: left;
				margin-left: 30px;
			}

			.subtitle {
				font-weight: bold;
			}



			.questionLabel, #lstPriorityAreas {
				display: inline-block;
				width: 250px;
				margin-left: 45px;
			}

			.userInput, select, .slidercontainer, .slider {
				width: 220px;
			}

			p {
				font-family: "Helvetica";
				padding-left: 30px;
				width: 600px;
				word-wrap: break-word;
			}

			.slider {
				-webkit-appearance: none;
				width: 100%;
				height: 15px;
				border-radius: 5px; 
				background: #383938; /*CEEK gray sampled from logo*/
				outline: none;
				opacity: 0.5;
				-webkit-transition: .2s;
				transition: opacity .2s;

			}

			.slider:hover {
				opacity: .75;
			}

			.slider::-webkit-slider-thumb {
				-webkit-appearance: none;
				appearance: none;
				width: 25px;
				height: 25px;
				border-radius: 50%; 
				background: #00529b; /*CEEK blue sampled from logo*/
				cursor: pointer;
			}

			.sliderBox { 
				display: table;
			}

			.slidecontainer { 
				display: table-cell; 
				vertical-align: middle; 
			}

			.smilePic {
				width: 20px;
				height: 20px;
			}

			.slideResponse {
				margin-left: 105px;
			}

			#happySmile, #stressedFrown {
				margin-left: 175px;
			}

			#checkMailList {
				width: 13px;
				height: 13px;
				vertical-align: bottom;
				position: relative;
				top: -1px;
				*overflow: hidden;
			}

			#labelMailList {
				display: block;
				text-indent: -15px;
				margin-left: 45px;
				width: 500px;
			}

			button, .btn-primary {
				text-align: center;
				vertical-align: middle;
			}

			#btnBack, #btnNext {
				display: inline;
				width: 80px;
				height: 30px;
			}

			#btnBack {
				margin-left: 30px;
				visibility: hidden;
			}

			#btnNext {
				margin-left: 375px;
			}

			#btnRemove, #btnAdd {
				width: 70px;
				height: 25px;
			}

			#btnRemove {
				margin-left: 110px;
			}

			#btnAdd {
				margin-left: 230px;
			}

			#priorityAreaSelection {
				position: relative;
				overflow: hidden; 
			}

			#lstPriorityAreas, #txtPriorityAreas {
				width: 200px;
				height: 185px;
				resize: none;
				position: relative;
				float: left; 
			}

			#txtPriorityAreas {
				margin-left: 110px;
			}

			#splashPrompt, #assessmentPrompt, #willingnessButtons, #actionsButtons {
				font-size: 20px;
			}

			#no {
				padding-left: 190px;
			}

			#yes {
				padding-left: 100px;
			}

			#never {
				padding-left: 25px;
			}

			#rarely, #sometimes, #often, #always {
				padding-left: 25px;
			}

			#btnReport {
				margin-left: 220px;
			}

			.created {
				color: white;
				line-height: 1;
			}
		</style>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.1/css/bootstrap-select.css"/>

		<title>CEEK Life Balance Assessment</title>
	</head>
	<body>
		<div id="title">
			<!--Image link will need to be changed if imgBB hosting services end;
				hosting images through CEEK LLC's domain would be ideal-->
			<img src="https://image.ibb.co/kwUk4c/CEEK_Logo.png" id="company" alt="CEEK LLC Logo"/>
			<h1 id="tool">&nbsp;Life Balance Assessment</h1>
		</div>

		<!--Make code entry active later-->
		<div id="codeEntry" style="display:none">
			<label>Survey Access Code</label><br>
			<input id="txtCode" type="text" placeholder="Please enter your 25-digit survey access code here."/>

			<p id="lblRepeat">Have you taken this survey before?</p>
			<form id="repeatButtons">
				<label id="noRepeat" class="radio-inline"><input type="radio" name="radioRepeat" value="No"/>No</label>
				<label id="yesRepeat" class="radio-inline"><input type="radio" name="radioRepeat" value="Yes"/>Yes</label>
			</form>
		</div>

		<div id="demographics">
			<h2 class="subtitle">Demographics</h2>

			<label class="questionLabel">First Name</label>
			<input id="txtFirstName" class="userInput" type="text" placeholder="First Name"/><br>

			<label class="questionLabel">Last Name</label>
			<input id="txtLastName" class="userInput" type="text" placeholder="Last Name"/><br>

			<label class="questionLabel">Age Range</label>
			<select id="selectAge" class="selectpicker" title="Choose one of the following"><br>
				<option>14 and younger</option>
				<option>15-19</option>
				<option>20-24</option>
				<option>25-29</option>
				<option>30-34</option>
				<option>35-39</option>
				<option>40-44</option>
				<option>45-49</option>
				<option>50-54</option>
				<option>55-59</option>
				<option>60-64</option>
				<option>65 and older</option>
			</select><br>

			<label class="questionLabel">Gender</label>
			<select id="selectGender" class="selectpicker" title="Choose one of the following"><br>
				<option>Male</option>
				<option>Female</option>
				<option>Other</option>
			</select><br>

			<label class="questionLabel">Country</label>
			<select id="selectCountry" class="selectpicker" title="Choose one of the following" data-live-search="true" data-live-search-style="contains">
				<option>United States of America</option>
				<option>Afghanistan</option>
				<option>Albania</option>
				<option>Algeria</option>
				<option>Andorra</option>
				<option>Angola</option>
				<option>Antigua and Barbuda</option>
				<option>Argentina</option>
				<option>Armenia</option>
				<option>Aruba</option>
				<option>Australia</option>
				<option>Austria</option>
				<option>Azerbaijan</option>
				<option>Bahamas, The</option>
				<option>Bahrain</option>
				<option>Bangladesh</option>
				<option>Barbados</option>
				<option>Belarus</option>
				<option>Belgium</option>
				<option>Belize</option>
				<option>Benin</option>
				<option>Bhutan</option>
				<option>Bolivia</option>
				<option>Bosnia and Herzegovina</option>
				<option>Botswana</option>
				<option>Brazil</option>
				<option>Brunei</option>
				<option>Bulgaria</option>
				<option>Burkina Faso</option>
				<option>Burma</option>
				<option>Burundi</option>
				<option>Cambodia</option>
				<option>Cameroon</option>
				<option>Canada</option>
				<option>Cabo Verde</option>
				<option>Central African Republic</option>
				<option>Chad</option>
				<option>Chile</option>
				<option>China</option>
				<option>Colombia</option>
				<option>Comoros</option>
				<option>Congo, Democratic Republic of the</option>
				<option>Congo, Republic of the</option>
				<option>Costa Rica</option>
				<option>Cote d'Ivoire</option>
				<option>Croatia</option>
				<option>Cuba</option>
				<option>Curacao</option>
				<option>Cyprus</option>
				<option>Czechia</option>
				<option>Denmark</option>
				<option>Djibouti</option>
				<option>Dominica</option>
				<option>Dominican Republic</option>
				<option>Ecuador</option>
				<option>Egypt</option>
				<option>El Salvador</option>
				<option>Equatorial Guinea</option>
				<option>Eritrea</option>
				<option>Estonia</option>
				<option>Ethiopia</option>
				<option>Fiji</option>
				<option>Finland</option>
				<option>France</option>
				<option>Gabon</option>
				<option>Gambia, The</option>
				<option>Georgia</option>
				<option>Germany</option>
				<option>Ghana</option>
				<option>Greece</option>
				<option>Grenada</option>
				<option>Guatemala</option>
				<option>Guinea</option>
				<option>Guinea-Bissau</option>
				<option>Guyana</option>
				<option>Haiti</option>
				<option>Holy See</option>
				<option>Honduras</option>
				<option>Hong Kong</option>
				<option>Hungary</option>
				<option>Iceland</option>
				<option>India</option>
				<option>Indonesia</option>
				<option>Iran</option>
				<option>Iraq</option>
				<option>Ireland</option>
				<option>Israel</option>
				<option>Italy</option>
				<option>Jamaica</option>
				<option>Japan</option>
				<option>Jordan</option>
				<option>Kazakhstan</option>
				<option>Kenya</option>
				<option>Kiribati</option>
				<option>Korea, North</option>
				<option>Korea, South</option>
				<option>Kosovo</option>
				<option>Kuwait</option>
				<option>Kyrgyzstan</option>
				<option>Laos</option>
				<option>Latvia</option>
				<option>Lebanon</option>
				<option>Lesotho</option>
				<option>Liberia</option>
				<option>Libya</option>
				<option>Liechtenstein</option>
				<option>Lithuania</option>
				<option>Luxembourg</option>
				<option>Macau</option>
				<option>Macedonia</option>
				<option>Madagascar</option>
				<option>Malawi</option>
				<option>Malaysia</option>
				<option>Maldives</option>
				<option>Mali</option>
				<option>Malta</option>
				<option>Marshall Islands</option>
				<option>Mauritania</option>
				<option>Mauritius</option>
				<option>Mexico</option>
				<option>Micronesia</option>
				<option>Moldova</option>
				<option>Monaco</option>
				<option>Mongolia</option>
				<option>Montenegro</option>
				<option>Morocco</option>
				<option>Mozambique</option>
				<option>Namibia</option>
				<option>Nauru</option>
				<option>Nepal</option>
				<option>Netherlands</option>
				<option>New Zealand</option>
				<option>Nicaragua</option>
				<option>Niger</option>
				<option>Nigeria</option>
				<option>North Korea</option>
				<option>Norway</option>
				<option>Oman</option>
				<option>Pakistan</option>
				<option>Palau</option>
				<option>Palestinian Territories</option>
				<option>Panama</option>
				<option>Papua New Guinea</option>
				<option>Paraguay</option>
				<option>Peru</option>
				<option>Philippines</option>
				<option>Poland</option>
				<option>Portugal</option>
				<option>Qatar</option>
				<option>Romania</option>
				<option>Russia</option>
				<option>Rwanda</option>
				<option>Saint Kitts and Nevis</option>
				<option>Saint Lucia</option>
				<option>Saint Vincent and the Grenadines</option>
				<option>Samoa</option>
				<option>San Marino</option>
				<option>Sao Tome and Principe</option>
				<option>Saudi Arabia</option>
				<option>Senegal</option>
				<option>Serbia</option>
				<option>Seychelles</option>
				<option>Sierra Leone</option>
				<option>Singapore</option>
				<option>Sint Maarten</option>
				<option>Slovakia</option>
				<option>Slovenia</option>
				<option>Solomon Islands</option>
				<option>Somalia</option>
				<option>South Africa</option>
				<option>South Korea</option>
				<option>South Sudan</option>
				<option>Spain</option>
				<option>Sri Lanka</option>
				<option>Sudan</option>
				<option>Suriname</option>
				<option>Swaziland</option>
				<option>Sweden</option>
				<option>Switzerland</option>
				<option>Syria</option>
				<option>Taiwan</option>
				<option>Tajikistan</option>
				<option>Tanzania</option>
				<option>Thailand</option>
				<option>Timor-Leste (East Timor) </option>
				<option>Togo</option>
				<option>Tonga</option>
				<option>Trinidad and Tobago</option>
				<option>Tunisia</option>
				<option>Turkey</option>
				<option>Turkmenistan</option>
				<option>Tuvalu</option>
				<option>Uganda</option>
				<option>Ukraine</option>
				<option>United Arab Emirates</option>
				<option>United Kingdom</option>
				<option>Uruguay</option>
				<option>Uzbekistan</option>
				<option>Vanuatu</option>
				<option>Venezuela</option>
				<option>Vietnam</option>
				<option>Yemen</option>
				<option>Zambia</option>
				<option>Zimbabwe</option>
			</select><br>

			<label class="questionLabel">Zip Code</label>
			<input id="txtZipCode" class="userInput" type="text" placeholder="Zip Code"/><br>

			<label class="questionLabel">E-mail</label>
			<input id="txtEmail" class="userInput" type="text" placeholder="E-mail required to receive results"/><br>
			<br>

			<form>
				<div>
					<label id="labelMailList"><input type="checkbox" id="checkMailList" checked="true"/>Add me to CEEK's mailing list with information regarding free webinars and upcoming events.</label>
				</div>
			</form>
		</div>


		<div id="occupationalProfile" style="display:none">
			<h2 class="subtitle">Occuptional Profile</h2>

			<label class="questionLabel">Highest Educational Level</label>
			<select id="selectEducation" data-live-search="true" data-live-search-style="contains" class="selectpicker" title="In progress or completed">
				<option>None</option>
				<option>High School</option>
				<option>Associate's Degree</option>
				<option>Bachelor's Degree</option>
				<option>Master's Degree</option>
				<option>Doctorate Degree</option>
			</select><br>

			<label class="questionLabel">Primary Working Status</label>
			<select id="selectPWS" class="selectpicker" title="Choose one of the following"><br>
				<option>Full-Time</option>
				<option>Part-Time</option>
				<option>Student</option>
				<option>Stay at Home Parent</option>
				<option>Unemployed</option>
			</select><br>

			<label class="questionLabel">Occupational Category</label>
			<select id="selectOccupation" class="selectpicker" title="Choose one of the following" data-live-search="true" data-live-search-style="contains" disabled='true'>
				<option>Architecture and Engineering</option>
				<option>Arts, Design, Entertainment, Sports, and Media</option>
				<option>Building and Grounds Cleaning and Maintenance</option>
				<option>Business and Financial Operations</option>
				<option>Community and Social Services</option>
				<option>Computers and Mathematics</option>
				<option>Construction and Extraction</option>
				<option>Education, Training, and Library</option>
				<option>Farming, Fishing, and Forestry</option>
				<option>Food Preparation and Serving Related</option>
				<option>Healthcare Practitioners and Technical</option>
				<option>Healthcare Support</option>
				<option>Installation, Maintenancee, and Repairs</option>
				<option>Legal</option>
				<option>Life, Physical, and Social Sciences</option>
				<option>Management</option>
				<option>Office and Administrative Support</option>
				<option>Personal Care and Service</option>
				<option>Production</option>
				<option>Protective Services</option>
				<option>Sales and Related Occupations</option>
				<option>Transportation and Material Moving</option>
			</select><br>

			<label class="questionLabel">Years in Current Occupation</label>
			<select id="selectYears" class="selectpicker" title="Choose one of the following" disabled='true'>
				<option>0-4</option>
				<option>5-9</option>
				<option>10-14</option>
				<option>15-19</option>
				<option>20-24</option>
				<option>>25</option>
			</select><br>

			<label class="questionLabel">Annual Household Income</label>
			<select id="selectIncome" class="selectpicker" title="Choose one of the following">
				<option>$49,999 and below</option>
				<option>$50,000-$99,999</option>
				<option>$100,000-$199,999</option>
				<option>$200,000-$499,999</option>
				<option>$500,000-$999,999</option>
				<option>$1,000,000 and above</option>
			</select><br>
			<br>

			<div class="sliderBox">
				<label class="questionLabel">On a scale of 1 to 10, how happy are you on a daily basis?</label>
				<div class="slidecontainer">
					<img src="https://www.goodfreephotos.com/albums/vector-images/unhappy-face-vector-clipart.png" class="smilePic" id="happyFrown" alt="Frown"/>
					<img src="http://www.publicdomainpictures.net/pictures/50000/velka/smiley-silhouette.jpg" class="smilePic" id="happySmile" alt="Smile"/>
					<input type="range" class="slider" id="sliderHappy" min="1" max="10" step="1" value="1"/>
					<label class="slideResponse" id="responseHappy">0</label>
				</div>
			</div><br>

			<div class="sliderBox">
				<label class="questionLabel">On a scale of 1 to 10, what is your level of stress on a typical day?</label>
				<div class="slidecontainer">
					<img src="http://www.publicdomainpictures.net/pictures/50000/velka/smiley-silhouette.jpg" class="smilePic" id="stressedSmile" alt="Smile"/>
					<img src="https://www.goodfreephotos.com/albums/vector-images/unhappy-face-vector-clipart.png" class="smilePic" id ="stressedFrown" alt="Frown"/>
					<input type="range" class="slider" id="sliderStress" min="1" max="10" step="1" value="1"/>
					<label class="slideResponse" id="responseStress">0</label>
				</div>
			</div><br>
		</div>

		<div id="preAssessment" style="display:none">
			<h2 class="subtitle">Priority Areas</h2>

			<p>This assessment calculates your life balance score based on your professed versus demonstrated priorities in life. Some suggested priority areas are already provided, which you can choose to delete or keep, in addition adding some of your own. Please be honest with your responses in order to receive the most accurate assessment of your life balance and best advice for your situation.</p><br>

			<!--Made into a div so that one break can uniformly be put below both the list box and text area-->
			<div id="priorityAreaSelection"> 
				<select multiple id="lstPriorityAreas" class="form-control">
					<option>Career</option>
					<option>Faith</option>
					<option>Family</option>
					<option>Friends</option>
					<option>Health</option>
					<option>Hobbies</option>
				</select>

				<textarea id="txtPriorityAreas" placeholder="Add desired priority areas by typing in this box. To add more than one at once, separate them with commas or by pressing 'Enter'.
				Please limit yourself to ten priority areas total, but provide at least four."></textarea>
			</div>
			<br>

			<button id="btnRemove">Remove</button>

			<button id="btnAdd">Add</button><br>
			<br>

			<p>To select and remove multiple priority areas at once, hold down 'Shift' and click on them individually, or click and drag your cursor across the ones that you wish to delete, and then click 'Remove'.</p><br>
		</div>

		<div id="splashScreen" style="display:none">
			<h2 id="splashSubtitle" class="subtitle">Part 1 of 2: Willingness</h2>

			<p id="splashPrompt">Since you provided X priority areas, this assessment consists of Y questions. Part 1 will prompt you with Z questions regarding which priority areas that you are WILLING to sacrifice in favor of another. Once you click 'Next' you will be unable to modify your priority areas.</p><br>
		</div>

		<div id="assessment" style="display:none">
			<h2 id="assessmentSubtitle" class="subtitle">Part 1 of 2: Willingness</h2>

			<p id="assessmentPrompt">Question goes here</p><br>

			<form id="willingnessButtons">
				<!--are the button ids needed? values are-->
				<label id="no" class="radio-inline"><input type="radio" name="radioWillingness" value="No"/>No</label>
				<label id="yes" class="radio-inline"><input type="radio" name="radioWillingness" value="Yes"/>Yes</label>
			</form>

			<form id="actionsButtons" style="display:none">
				<label id="never" class="radio-inline"><input type="radio" name="radioActions" value="Never"/>Never</label>
				<label id="rarely" class="radio-inline"><input type="radio" name="radioActions" value="Rarely"/>Rarely</label>
				<label id="sometimes" class="radio-inline"><input type="radio" name="radioActions" value="Sometimes"/>Sometimes</label>
				<label id="often" class="radio-inline"><input type="radio" name="radioActions" value="Often"/>Often</label>
				<label id="always" class="radio-inline"><input type="radio" name="radioActions" value="Always"/>Always</label>
			</form>
			<br>
		</div>
	</body>

	<footer>
		<button id="btnBack" class="btn btn-primary">Back</button>

		<button id="btnNext" class="btn btn-primary">Next</button>

		<button id="btnReport" class = "btn btn-primary" style="display:none">Generate Report</button>

		<br>
		<br>

		<p id="disclaimer">DISCLAIMER: Your name is NOT stored, it is only put in the PDF report is e-mailed to you that contains your results, which only you can view. Demographic and geographic information is collected for analysis of average assessment scores by age group, gender, occupation, and region. None of your assessment answers are stored, only your anonymous final score is. CEEK ensures that your personal information will not be shared with any organizations for any reason.</p><br>

		<!--Created by-->
		<p class='created'>Coded by Madison Wright</p>
		<p class='created'>Contact: wrightmadison@gmail.com</p>

		<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.1/js/bootstrap-select.js"></script>
		<!--For PDF generation-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>


		<script>
			var currentPage = "demographics";
			var firstName;
			var lastName;
			var age;
			var gender;
			var country;
			var zipCode;
			var email;
			var emailSubscribe;
			var education;
			var pws;
			var occupation;
			var years;
			var income;
			var happiness;
			var stress;
			// when the next button is clicked in the pre-assessment, the array is populated with the priority areas in the list box
			var priorityAreas;
			var priorityAreasCap; // priority areas with the first letter of each word capitalized and the rest lowercase
			var numAreas;
			var numQuestions;
			var questions;
			var currentQuestion = 1;
			var willingness;
			var actions;
			// coordinates used for loading response into arrays
			var a;
			var b;
			var part = "willingness";
			var fullName;
			var fullDate;
			var pageNum = 0; // initialized at zero because the newPage() function increments the page number by 1 at the beginning of the method
			var bodyFontSize;
			var lineWidth;
			var ySubtitle;
			var ySubtitleLine;
			var pdf = new jsPDF({ // Default export is a4 paper, portrait, using millimeters for units
			// change units to inches and paper size to US letter paper
			 	unit: 'in',
		   		format: [8.5, 11]
			});

			// Report Images
			/*Image links will need to be changed if imgBB hosting services end;
			hosting images through CEEK LLC's domain would be ideal*/
			var imgCover = new Image;
			imgCover.crossOrigin = '';
			imgCover.src = 'https://image.ibb.co/dkzppc/Report_Cover.png';

			var imgHeader = new Image;
			imgHeader.crossOrigin = '';
			imgHeader.src = 'https://image.ibb.co/jJkqOH/Report_Header.png';

			var imgFooter = new Image;
			imgFooter.crossOrigin = '';
			imgFooter.src = 'https://image.ibb.co/bvfeHc/Report_Footer.png';

			var imgTableDemographics = new Image;
			imgTableDemographics.crossOrigin = '';
			imgTableDemographics.src = 'https://image.ibb.co/j63VqH/Demographic_Information_Table.png';

			// makes selectOccupation and selectYears dropdowns enabled only if "Full-Time" or "Part-Time" is selected
			$('#selectPWS').change(function() {
				// if the selectOccupation and selectYears dropdowns are already disabled then reset their values
				if (document.getElementById("selectPWS").value == "Full-Time" || document.getElementById("selectPWS").value == "Part-Time") {
					$('#selectOccupation').prop('disabled', false);
					$("#selectOccupation").val('default');
					$('#selectOccupation')
					    .selectpicker({title: "Choose one of the following"})
					    .selectpicker('refresh');
					occupation = null;

					$('#selectYears').prop('disabled', false);
					$("#selectYears").val('default');
					$('#selectYears')
					    .selectpicker({title: "Choose one of the following"})
					    .selectpicker('refresh');
					years = null;
				} else {
					$('#selectOccupation').prop('disabled', true);
					$('#selectOccupation').val('default');
					$('#selectOccupation')
					    .selectpicker({title: "Not Applicable"})
					    .selectpicker('refresh');
					occupation = "Not Applicable";

					$('#selectYears').prop('disabled', true);
					$('#selectYears').val('default');
					$('#selectYears')
					    .selectpicker({title: "Not Applicable"})
					    .selectpicker('refresh');
					years = "Not Applicable";
				}
			});

			$('#selectOccupation').change(function() {
				occupation = document.getElementById("selectOccupation").value;
			});

			$('#selectYears').change(function() {
				years = document.getElementById("selectYears").value;
			});

			$("#sliderHappy").change(function() {
				document.getElementById("responseHappy").innerHTML = document.getElementById("sliderHappy").value;
			});

			$("#sliderStress").change(function() {
				document.getElementById("responseStress").innerHTML = document.getElementById("sliderStress").value;
			});

			$("#willingnessButtons").change(function() {
				willingness[a][b] = $("input[name=radioWillingness]:checked", "#willingnessButtons").val();
			});

			$("#actionsButtons").change(function() {
				actions[a][b] = $("input[name=radioActions]:checked", "#actionsButtons").val();
			});

			// on change event for saving user's response
			// load their answer back in using array

			$("#btnNext").click(function() {
				if (currentPage === "demographics") {
					// uncomment out later
					/*if (!txtFirstName.value || !txtLastName.value || !selectAge.value || !selectCountry.value || !txtZipCode.value || !txtEmail.value) {
						alert("Please fill in all of the fields before proceeding.");
					} else {*/
						firstName = document.getElementById("txtFirstName").value.trim();
						lastName = document.getElementById("txtLastName").value.trim();
						age = document.getElementById("selectAge").value;
						gender = document.getElementById("selectGender").value;
						country = document.getElementById("selectCountry").value;
						zipCode = document.getElementById("txtZipCode").value.trim();
						email = document.getElementById("txtEmail").value.trim();
						emailSubscribe = document.getElementById("checkMailList").value;

						document.getElementById("disclaimer").style.display = "none";
						document.getElementById("btnBack").style.visibility = "visible";
						
						currentPage = "occupationalProfile";
						document.getElementById("demographics").style.display = "none";
						document.getElementById("occupationalProfile").style.display = "block";
					//}
				} else if (currentPage === "occupationalProfile") {
					// uncomment out later
					/*if (!selectEducation.value || !selectPWS.value || occupation==null || years==null || !selectIncome.value || responseHappy.innerHTML == 0 || responseStress.innerHTML == 0) {
						alert("Please fill in all of the fields before proceeding.");
					} else {*/
						education = document.getElementById("selectEducation").value;
						pws = document.getElementById("selectPWS").value;
						income = document.getElementById("selectIncome").value;
						happiness = document.getElementById("sliderHappy").value;
						stress = document.getElementById("sliderStress").value;

						document.getElementById("disclaimer").style.display = "none";
						document.getElementById("btnBack").style.visibility = "visible";

						currentPage = "preAssessment";
						document.getElementById("occupationalProfile").style.display = "none";
						document.getElementById("preAssessment").style.display = "block";
					//}
				} else if (currentPage === "preAssessment") {
					// uncomment out later
					/*if (document.getElementById("lstPriorityAreas").length < 4) {
						alert("Please provide at least four priority areas.");
					} else {*/
						// initializes the priorityAreas element as an array with as many elements as are in lstPriorityAreas
						priorityAreas = new Array(document.getElementById("lstPriorityAreas").length);
						// stores the properly capitalized priority areas for PDF generation
						priorityAreasCap = new Array(document.getElementById("lstPriorityAreas").length);

						for (var i = 0; i < lstPriorityAreas.length; i++) {
							// maybe not make each priority area lower case? need to convert back to uppercase for report
							priorityAreasCap[i] = document.getElementById("lstPriorityAreas").options[i].value;
							priorityAreas[i] = document.getElementById("lstPriorityAreas").options[i].value.toLowerCase();
						}
						numAreas = document.getElementById("lstPriorityAreas").length;
						numQuestions = 2 * (Math.pow(numAreas, 2) - numAreas);
						questions = new Array(numQuestions);

						// makes 2D array for willingness responses (yes/no)
						willingness = new Array(numAreas);
						for (var j = 0; j < numAreas; j++) {
							willingness[j] = new Array(numAreas);
						}

						// makes 2D array for actions responses (never/rarely/sometimes/often/always)
						actions = new Array(numAreas);
						for (var k = 0; k < numAreas; k++) {
							actions[k] = new Array(numAreas);
						}

						// Part 1 of 2: Willingness Splash Screen
						document.getElementById("splashPrompt").innerHTML = "Since you provided " + numAreas + " priority areas, this assessment will consist of " + numQuestions + " questions. Part 1 will prompt you with " + (numQuestions/2) + " questions regarding which priority areas that you are WILLING to sacrifice in favor of another. Once you click 'Next' you will be unable to modify your priority areas.";

						currentPage = "splashScreen";
						document.getElementById("preAssessment").style.display = "none";
						document.getElementById("splashScreen").style.display = "block";
					//}
				} else if (currentPage === "splashScreen") {
					if (currentQuestion == 1) {
						// hides the back button once the assessment has begun so that the user cannot change the priority areas
						document.getElementById("btnBack").style.visibility = "hidden";
						// prepares a question before showing the assessment page
						generateQuestion(willingness);

						// hides the splash screen and shows the next page, part 1 of the assessment
						currentPage = "assessment";
						document.getElementById("splashScreen").style.display = "none";
						document.getElementById("assessment").style.display = "block";
					// Part 2 of 2: Actions Splash Screen
					} else if (currentQuestion == numQuestions/2) {
						currentQuestion++;
						document.getElementById("assessmentSubtitle").innerHTML = "Part 2 of 2: Actions"
						generateQuestion(actions);
						document.getElementById("actionsButtons").style.display = "block";

						// hides the splash screen and shows the next page, part 2 of the assessment
						currentPage = "assessment";
						document.getElementById("splashScreen").style.display = "none";
						document.getElementById("assessment").style.display = "block";
					}
				} else if (currentPage === "assessment") {
					// if a question in the array is not null, display question and response (do this for back button, and then for next)
					// surround generateQuestion call with this logic
					
					// Part 1 of 2: Willingness
					if (currentQuestion >= 1 && currentQuestion <= numQuestions/2) {
						// checks to make sure there is a response for the willingness options
						// if there is no response, the question number is not incremented and an alert is shown
						if (!$("input[name='radioWillingness']:checked").val()) {
							alert("Please select a response before proceeding.");
						} else {
							if ($("input[name='radioWillingness']:checked").val() == "No") {
								willingness[a][b] = 0;
							} else if ($("input[name='radioWillingness']:checked").val() == "Yes") {
								willingness[a][b] = 1;
							}
							
							// once the user has proceeded at least one question into this section, the back button is available again
							if (currentQuestion == 2) {
							// untoggle comment when making back button functionality
							//document.getElementById("btnBack").style.visibility = "visible";
							} 

							/*changes the btnNext text to 'Finish' on the last question of the section 
							in order to indicate to the user that they have reached the end of this section*/
							if (currentQuestion == (numQuestions/2)-1) { 
							/*not possible for second question of part 1 to also be second to last question of part 1 
							because there is a minimum of 4 priority areas*/
							// make sure this reverts back to Next when programming the back button functionality
								document.getElementById("btnNext").innerHTML = "Finish";
							// shows the splash screen for the actions section
							}

							// Part 1 complete
							if (currentQuestion == numQuestions/2) {
								// updates the splash screen elements for Part 2 of 2: Actions
								document.getElementById("btnNext").innerHTML = "Next";
								// hides the back button so that the user cannot return to the willingness section
								document.getElementById("btnBack").style.visibility = "hidden";
								// hides the willingness buttons 
								document.getElementById("willingnessButtons").style.display = "none";

								// changes the part of the assessment for comparator purposes in other methods
								part = "actions";

								document.getElementById("splashSubtitle").innerHTML = "Part 2 of 2: Actions";
								document.getElementById("splashPrompt").innerHTML = "Since you provided " + numAreas + " priority areas, this assessment consists of " + numQuestions + " questions. Part 2 will prompt you with " + (numQuestions/2) + " questions regarding the frequency that you DO sacrifice a particular priority area in favor of another.";

								currentPage = "splashScreen";
								document.getElementById("assessment").style.display = "none";
								document.getElementById("splashScreen").style.display = "block";
							// Part 1 not complete
							} else {
								currentQuestion++;
								generateQuestion(willingness);
							}
						}

					// Part 2 of 2: Actions
					} else if (currentQuestion > numQuestions/2 && currentQuestion <= numQuestions) {
						// checks to make sure there is a response for the willingness options
						// if there is no response, the question number is not incremented and an alert is shown
						if (!$("input[name='radioActions']:checked").val()) {
							alert("Please select a response before proceeding.");
						} else {
							if ($("input[name='radioActions']:checked").val() == "Never") {
								actions[a][b] = 0;
							} else if ($("input[name='radioActions']:checked").val() == "Rarely") {
								actions[a][b] = 0.25;
							} else if ($("input[name='radioActions']:checked").val() == "Sometimes") {
								actions[a][b] = 0.5;
							} else if ($("input[name='radioActions']:checked").val() == "Often") {
								actions[a][b] = 0.75;
							} else if ($("input[name='radioActions']:checked").val() == "Always") {
								actions[a][b] = 1;
							}

							// once the user has proceeded at least one question into this section, the back button is available again
							if (currentQuestion == (numQuestions/2)+2) {
								// untoggle comment when making back button functionality
								//document.getElementById("btnBack").style.visibility = "visible";
							} 

							/*changes the btnNext text to 'Finish' on the last question of the section 
							in order to indicate to the user that they have reached the end of this section*/
							if (currentQuestion == numQuestions-1) {
								/*not possible for second question of part 2 to also be second to last question of part 2
								because there is a minimum of 4 priority areas*/
								// make sure this reverts back to Next when programming the back button functionality
								document.getElementById("btnNext").innerHTML = "Finish";
							}

							// Part 2 complete (assessment complete)
							if (currentQuestion == numQuestions) {
								// generate PDF here
								// easier to email results or generate PDF on the page?
								document.getElementById("splashSubtitle").innerHTML = "View Results";
								document.getElementById("splashPrompt").innerHTML = "You have completed the CEEK Life Balance Assessment! Please click the 'Generate Report' button below to save a PDF of your results to your computer. The PDF may take a few seconds to generate, so please only click the button once and wait a moment. Please check your 'Downloads' folder for the file. A copy will be e-mailed to you as well as a backup.";
								document.getElementById("actionsButtons").style.display = "none";
								document.getElementById("btnBack").style.display = "none";
								document.getElementById("btnNext").style.display = "none";
								document.getElementById("btnReport").style.display = "block";

								currentPage = "splashScreen";
								document.getElementById("assessment").style.display = "none";
								document.getElementById("splashScreen").style.display = "block";
							// Part 2 not complete
							} else {
								currentQuestion++;
								generateQuestion(actions);
							}
						}
					} 
				}
			});

			function generateQuestion(array) {
				// picks two unique, random priority areas
				var areaA;
				var areaB;

				do {
					// returns a number between 0 and numAreas-1
					a = Math.floor(Math.random() * numAreas);
					b = Math.floor(Math.random() * numAreas);

					while (b == a) {
						b = Math.floor(Math.random() * numAreas);
					}
					areaA = priorityAreas[a];
					areaB = priorityAreas[b];

				} while (array[a][b]!= null);

				if (part == "willingness") {
					document.getElementById("willingnessButtons").reset();
					questions[currentQuestion] = currentQuestion + ". Are you willing to sacrifice " + areaA + " in favor of " + areaB + "?";

				} else if (part == "actions") {
					document.getElementById("actionsButtons").reset();
					questions[currentQuestion] = currentQuestion + ". Do you sacrifice " + areaA + " in favor of " + areaB + "?";
				}

				document.getElementById("assessmentPrompt").innerHTML = questions[currentQuestion];
			}

			$("#btnBack").click(function() {
				if (currentPage === "occupationalProfile") {
					document.getElementById("disclaimer").style.display = "block";
					document.getElementById("btnBack").style.visibility = "hidden";

					currentPage = "demographics";
					document.getElementById("occupationalProfile").style.display = "none";
					document.getElementById("demographics").style.display = "block";
				} else if (currentPage === "preAssessment") {
					currentPage = "occupationalProfile";
					document.getElementById("preAssessment").style.display = "none";
					document.getElementById("occupationalProfile").style.display = "block";
				} else if (currentPage === "splashScreen"){
					// the only time the back button is available on the splash screen is for part 1
					// clearing the array this way may cause an error
					priorityAreas == null;

					// update elements on page
					document.getElementById("btnBack").style.visibility = "visible";

					// switch pages
					currentPage = "preAssessment";
					document.getElementById("splashScreen").style.display = "none";
					document.getElementById("preAssessment").style.display = "block";
				}
			});

			$("#btnRemove").click(function() {
				$("#lstPriorityAreas option:selected").remove();
			});

			$("#btnAdd").click(function() { // at least four areas, limit of ten
				var rawPriorityAreas = document.getElementById("txtPriorityAreas").value;
				// split the new priority areas at newlines and commas
				var newPriorityAreas = rawPriorityAreas.split(/[\n,]+/);

				for (var i = 0; i < newPriorityAreas.length; i++) {
					// removes leading and trailing white space from the priority area
					newPriorityAreas[i] = newPriorityAreas[i].trim();
					// separates individual words of priority area by spaces
					var words = newPriorityAreas[i].split(" ");
					// holds capitalized and trimmed words
					
					var finishedPriorityArea = "";

					for (var j = 0; j < words.length; j++) {
						words[j] = words[j].toLowerCase();
						words[j] = words[j].charAt(0).toUpperCase() + words[j].slice(1);
						
						// adds spaces between words that are concatenated into one priority area
						if (j == words.length - 1) {
							finishedPriorityArea = finishedPriorityArea + words[j];
						} else {
							words[j] += " ";
							finishedPriorityArea = finishedPriorityArea + words[j];
						}
					}
					newPriorityAreas[i] = finishedPriorityArea;
				}

				// every new priority area is looped through to check for duplicates
				// something wrong with the loop
				for(var m = 0; m < newPriorityAreas.length; m++) {
					if (document.getElementById("lstPriorityAreas").length == 10) {
						alert("Please provide no more than ten priority areas. Remove a priority area to add a different one.");
						/*need to break out of the loop so the alert does not repeat if there are more 
						priority areas after the limit has already been reached*/
						break;
					} else {
						var opt = document.createElement("option");
						opt.text = newPriorityAreas[m];
						opt.value = newPriorityAreas[m];
					}

					for(var n = 0; n < document.getElementById("lstPriorityAreas").length; n++) {
					/*checks to see if the element is already in the list
					if it is, an alert is sent and the duplicate is not added*/
						if (opt.value == document.getElementById("lstPriorityAreas").options[n].value) {
							alert(opt.value + " is already on the priority area list.");
							break;
							/*once the entire list has been iterated through
							if the new priority area is not found to be a duplicate 
							then is it added to the list*/
						} else if (n == document.getElementById("lstPriorityAreas").length - 1) {
							document.getElementById("lstPriorityAreas").options.add(opt);
							/*break statement has to be added because once the new element is added, the 
							length of the list increases so then it will run through the if and send the 
							alert after adding the new item to the list*/
							break;
						}
					}
				}
				document.getElementById('txtPriorityAreas').value = "";

				// creates array to hold checked priority areas
				var tempPAs = new Array(document.getElementById('lstPriorityAreas').length);

				// puts priority areas currently in list into an array
				for (var r = 0; r < document.getElementById('lstPriorityAreas').length; r++) {
					tempPAs[r] = document.getElementById('lstPriorityAreas').options[r].value;
				}

				// alphabetically sorts the priority areas
				tempPAs.sort();

				// clears the list
				document.getElementById('lstPriorityAreas').innerHTML = "";

				// puts the sorted priority areas back into the list
				for (var s = 0; s < tempPAs.length; s++) {
					var opt = document.createElement("option");
					opt.text = tempPAs[s];
					opt.value = tempPAs[s];
					document.getElementById('lstPriorityAreas').options.add(opt);
				}
			});

			$("#btnReport").click(function() {
				// calculates assesssment score
				var numYellow = 0;
				var numRed = 0;
				var score;
				var scoreType;

				var results = new Array(numAreas);
				for (var m = 0; m < numAreas; m++) {
					results[m] = new Array(numAreas);
				}

				for (var i = 0; i < numAreas; i++) {
					for (var j = 0; j < numAreas; j++) {
						if (i != j) {
							results[i][j] = willingness[i][j] - actions[i][j];

							if (willingness[i][j] == 0) {
								if (results[i][j] == -0.5) {
									numYellow++;
								} else if (results[i][j] == -0.75) {
									numRed++;
								} else if (results[i][j] == -1) {
									numRed++;
								}
							} 
						}
					}
				}
				score = Math.round((((numQuestions/2)-((numYellow*0.5)+(numRed)))/(numQuestions/2))*100);

				if (score >= 90) {
					scoreType = "Balanced";
				} else if (score >= 75 && score <= 89) {
					scoreType = "Occasionally Shaky";
				} else if (score >= 60 && score <= 74) {
					scoreType = "Frequently Shaky";
				} else if (score < 60) {
					scoreType = "Unbalanced";
				}

				// store: Age Range, Gender, Country, Highest Educational Level, Primary, Working Status, Occupational Category, Years in Current Occupation, and Annual Household Income
				// Used for Google Sheet: https://github.com/dwyl/learn-to-send-email-via-google-script-html-no-server

				fullName = firstName + " " + lastName;
				var d = new Date();
				fullDate = writeMonth(d.getMonth()) + " " + d.getDate() + ", " + d.getFullYear();
				lineWidth = 0.013;
				var txtWidth = 6.5;
				/*For x and y coordinate variables for each page, only change the values when working on a section independent from the rest of the text. Doing this will make it easy to shift sections down as a whole when changing the original/starting x and/or y coordinate(s).*/
				var xNew = 1;
				// change the following four variables by the same amount when shifting all page elements up and down
				// ----------------------
				ySubtitle = 1.35;
				ySubtitleLine = 1.48;
				var yNewSection = 1.8;
				var yNewPage = 1.35;
				// ----------------------
				// Helvetica, Times, and Courier are the three jsPDF-supported fonts (without adding a new font)
				var fontPrimary = 'Helvetica';
				var fontSecondary = 'Times';
				bodyFontSize = 11;

				// use 0.1" grid on Word Document for mapping object locations
				// when adding images to the pdf, make sure to get the size ratio of the images correct based on their pixel dimensions

				/*keep in mind that text is positioned by the bottom left corner unlike images, which are positioned by 
				the top left corner being placed at the provided coordinates*/

				// https://unicode-table.com/en/ was used for finding unicode numbers
				
				// COVER
				pdf.addImage(imgCover, 'PNG', 0, 0, 8.5, 11);
				// coordinate variable naming conventions "letter + page #"
				var xC = 0.95; // x cover
				var yC = 2.95; // y cover - for some reason the Y coordinate for the title is 0.2" lower than expected
				var lsC = 0.38; // line spacing cover
				
				// title
				pdf.setFont(fontPrimary);
				pdf.setFontSize(28);
				pdf.setFontType('bold');
				pdf.setTextColor(0,82,155); // CEEK blue sampled from logo (hex: #00529b)
				// CEEK LIFE
				pdf.text("CEEK LIFE", xC, yC);
				// Balance
				pdf.text("B", xC, yC+lsC);
				pdf.setFontSize(26);
				pdf.setFontType('normal');
				/*for whatever reason B rests slightly higher in the characer space than A and R 
				so the following line is placed 0.005" higher to compensate*/
				pdf.text("alance", xC+0.285, yC+(lsC-0.005));
				// Assessment
				pdf.setFontType('bold');
				pdf.text("A", xC, yC+(2*lsC));
				pdf.setFontSize(26);
				pdf.setFontType('normal');
				pdf.text("ssessment", xC+0.265, yC+(2*lsC));
				// Report
				pdf.setFontType('bold');
				pdf.text("R", xC, yC+(3*lsC));
				pdf.setFontSize(26);
				pdf.setFontType('normal');
				pdf.text("eport", xC+0.265, yC+(3*lsC));

				// dividing line
				pdf.setLineWidth(lineWidth);
				pdf.setDrawColor(97,97,97); // sampled from template (hex: 616161)
				pdf.line(3.63, 2.6, 3.63, 4.2); // (x1, y1, x2, y2)

				// disclaimer at the bottom of the page
				pdf.setFont(fontSecondary);
				pdf.setFontSize(9);
				pdf.setTextColor(0,0,0); // black
				// U+00A9 = copyright symbol
				var copyright = pdf.splitTextToSize("Copyright \u00A9 2018 by CEEK LLC. All rights reserved. No part of this publication may be reproduced, distributed, or transmitted in any form or by any means, including photocopying, recording, or other electronic or mechanical methods, without the prior written permission of the publisher, except in the case of brief quotations embodied in critical reviews and certain other noncommercial uses permitted by copyright law. For permission requests, write to the publisher, addressed \"Attention: Permissions Coordinator.\"", 7.3);
				pdf.text(copyright, 0.6, 9.59);

				// full name
				xC = 4.21;
				yC = 2.81; // for some reason the Y coordinate for the name is 0.23" lower than expected (lowered more to make it line up with title)
				pdf.setFont(fontPrimary);
				pdf.setFontSize(14);
				pdf.setFontType('bold');
				pdf.text(fullName, xC, yC);
				
				// date
				pdf.text(fullDate, xC, yC+0.23);

				// report provided by
				pdf.setFont(fontSecondary);
				pdf.setFontSize(12);
				pdf.text("This report is provided by CEEK LLC", xC, yC+0.49); // left off here (adjusting Y coordinate)

				// CEEK website and social media
				pdf.setFontType('normal');
				pdf.setTextColor(89,89,89); // sampled from template (hex: 595959)
				// each section is 0.17" apart
				pdf.text("Email:", xC, yC+0.77);
				pdf.text("Web:", xC, yC+0.94);
				pdf.text("Twitter:", xC, yC+1.11);
				pdf.text("LinkedIn:", xC, yC+1.28);

				// hyperlinks and handle
				xC = 5.1;
				pdf.setFontSize(11); // why is this font size different??
				pdf.setTextColor(0,0,0); // black
				// each section is 0.17" apart
				pdf.text("info@ceekllc.com", xC, yC+0.77);
				pdf.textWithLink("www.ceekllc.com", xC, yC+0.94, {url:'www.ceekllc.com'});
				pdf.text("@ceekllc", xC, yC+1.11);
				pdf.textWithLink("www.linkedin.com/company/ceek-llc", xC, yC+1.28, {url:'www.linkedin.com/company/ceek-llc'});

				pdf.setFont(fontPrimary); // only font used from this point forward

				// PAGE 1
				newPage();
				newSection(1, "Introduction");
				var x1 = xNew; // x page 1
				var y1 = yNewSection; // y page 1
				
				/*U+2018 = left single quotation mark
				  U+2019 = right single quotation mark
				  U+201C = left double quotation mark
				  U+201D = right double quotation mark*/
				// reuse this variable for putting text in the PDF
				var txt = pdf.splitTextToSize("In life, everyone will face the stress and pressure associated with competing priorities under time and/or resource constraints. For decades, researchers and organizations have studied the relationship between work and life as one of the most significant examples of such competing priorities. The term \u2018Work/Life Balance\u2019 has come to represent a critical priority for individuals in pursuit of general peace and fulfillment AND for organizations in pursuit of employee engagement and productivity.\n\nAt CEEK, we refer to \u2018Life Balance\u2019 as opposed to \u2018Work/Life Balance.\u2019 To us, \u2018Work\u2019 is simply one of the many competing priorities most of us contend with in \u2018Life.\u2019 In addition to \u2018Work\u2019, many people balance the demands of \u2018Family,\u2019 \u2018Faith,\u2019 Hobbies,\u2019 \u2018Friends,\u2019 \u2018Health,\u2019 and/or other priorities that consume the daily, weekly, monthly, and yearly focus of your lives.\n\nUnfortunately, the demands on our time are often imposed and accepted without conscious deliberation or thought. For many of us, our \u2018work\u2019 often defines the constraints around which the rest of our life and associated dreams can or cannot be pursued.\n\nAt CEEK, we dismiss the notion that personal and professional success are mutually exclusive. Individuals and organizations that actively pursue \u2018Life Balance\u2019 will manage the tension of competing priorities well. In doing so, such individuals and organizations greatly increase the odds of achieving personal and professional success.\n\nAt CEEK, we define Healthy Life Balance as \u201Ca state where professed priorities are consistent with demonstrated behaviors.\u201D In contrast, we define Unhealthy Life Balance as a \u201Cstate where professed priorities are inconsistent with demonstrated behaviors.\u201D\n\nThe CEEK Life Balance Assessment is designed to help you intentionally profess the priorities of your life. We compare your professed priorities to your demonstrated behaviors, or how you live your life. In the areas where your priorities and behaviors are in conflict there exists a source of tension in your life. Given such findings, this report calculates a Life Balance Assessment score and offers tips and suggestions to intentionally pursue enhanced balance and fulfillment, as applicable.\n\nThe Life Balance Assessment and this associated report are tools to help build awareness as the first and most important step to pursue enhanced Life Balance. We encourage you to refer to and leverage this report as you read the book, Finding Healthy Balance: a leader\u2019s guide to navigate chaos in pursuit of PEACE. Coupled with this assessment, the book will guide you through a simple, yet powerful approach to manage the tension well in pursuit of healthy Life Balance.\n\nThe remainder of this report summarizes the findings from your Life Balance Assessment. For further guidance, workshops, training or coaching support in pursuit of Life Balance for you and/or your organization, you can contact CEEK via email at info@ceekllc.com.", txtWidth);
				// use these coordinates for the starting position of text
				pdf.text(txt, x1, y1);

				// PAGE 2
				newPage();
				newSection(2, "Summary Results");
				var x2 = xNew; // x page 2
				var y2 = yNewSection; // y page 2
				
				// text area 1
				txt = pdf.splitTextToSize("To assist with the assessment of your Life Balance and for comparison with your peers, the Life Balance Assessment collects and maintains non-attributed data across industries or job functions, years in profession, compensation levels, age and education level. At the beginning of the assessment, you provided the following information:", txtWidth);
				pdf.text(txt, x2, y2);
				y2 = imgBuffer(y2, 4);
				
				// demographics table
				pdf.addImage(imgTableDemographics, 'PNG', x2, y2, 6.5, 3.176);
				
				pdf.setFontType('bold');
				pdf.setTextColor(255,255,255); // white
				var xTable = x2 + 0.085;
				var yTable = y2 + 0.2727;
				var lsTable = 0.39;
				pdf.text("Age Range", xTable, yTable);
				pdf.text("Gender", xTable, yTable+(1*lsTable));
				pdf.text("Country", xTable, yTable+(2*lsTable));
				pdf.text("Highest Educational Level", xTable, yTable+(3*lsTable));
				pdf.text("Primary Working Status", xTable, yTable+(4*lsTable));
				pdf.text("Occupational Category", xTable, yTable+(5*lsTable));
				pdf.text("Years in Current Occupation", xTable, yTable+(6*lsTable));
				pdf.text("Annual Household Income", xTable, yTable+(7*lsTable));
				// uncomment out later
				/*xTable = 3.35;
				pdf.setFontType('normal');
				pdf.setTextColor(0,0,0); // black
				pdf.text(age, xTable, yTable);
				pdf.text(gender, xTable, yTable+(1*lsTable));
				pdf.text(country, xTable, yTable+(2*lsTable));
				pdf.text(education, xTable, yTable+(3*lsTable));
				pdf.text(pws, xTable, yTable+(4*lsTable));
				pdf.text(occupation, xTable, yTable+(5*lsTable));
				pdf.text(years, xTable, yTable+(6*lsTable));
				pdf.text(income, xTable, yTable+(7*lsTable));*/

				// text area 2
				y2 = y2 + 3.176;
				y2 = newline(y2, 2);
				pdf.setFontType('normal');
				pdf.setTextColor(0,0,0); // black
				txt = pdf.splitTextToSize("In addition, each user of the tool is asked to evaluate their level of \u2018Happiness\u2019 and \u2018Stress\u2019 on a 1-10 scale. We use this data to correlate our Life Balance Assessment score with general levels of happiness and stress, demonstrating how proactive efforts to improve Life Balance can enhance happiness and reduce stress. In response to these questions, you indicated the following:", txtWidth);
				pdf.text(txt, x2, y2);

				// happiness and stress bullet points
				y2 = listBuffer(y2, 5);
				bulletPoint("Happiness: " + lmhScale(happiness), y2);
				y2 = newline(y2, 1);
				bulletPoint("Stress: " + lmhScale(stress), y2);
				
				// text area 3
				y2 = newline(y2, 2);
				txt = pdf.splitTextToSize("Finally, the Life Balance Assessment is a flexible tool that allows individuals to identify as many as ten priority areas within their life. In this way, we customize the tool to your unique circumstances. In completing the assessment, you identified the following list as priority areas within your life:", txtWidth);
				pdf.text(txt, x2, y2);
				y2 = listBuffer(y2, 4);
				bulletList(priorityAreasCap, y2);

				//PAGE 3
				newPage();
				var x3 = xNew; // x page 3
				var y3 = yNewPage; // y page 3
				
				// text area 1
				// shape is 3" wide and 0.3" buffer on left and buttom - 3.2" for text
				txt = pdf.splitTextToSize("Based upon these inputs, you were asked a series of questions to evaluate your willingness to sacrifice one priority area in favor of another. Similarly, you were asked to evaluate the frequency in which you do sacrifice one priority area in favor of another. Via the response to these questions, the Life Balance Assessment identifies sources of tension among competing priorities. Based upon the magnitude and frequency of such tensions, we calculate a Life", 3.2);
				pdf.text(txt, x3, y3);
				y3 = newline(y3, 10);
				txt = pdf.splitTextToSize("Balance Assessment Score as a percentage from 0 to 100%. As defined in the adjacent text box, the Life Balance Assessment Score correlates to a general rating regarding your degree of \u2018Life Balance.\u2019", txtWidth);
				pdf.text(txt, x3, y3);

				// balance assessment scale
				pdf.setLineWidth(0.31);
				pdf.setDrawColor(0,82,155); // CEEK blue sampled from logo (hex: #00529b)
				var xScale = x3 + 3.58;
				var yScale = yNewPage+0.04;
				pdf.line(4.5, yNewPage+0.04, 7.5, yScale); // (x1, y1, x2, y2)
				pdf.setFontSize(14);
				pdf.setFontType('bold');
				pdf.setTextColor(255,255,255); // white
				yScale = yScale+0.075;
				pdf.text("Balance Assessment Scale", 6, yScale, 'center');
				pdf.setFontSize(11);
				pdf.setFontType('bolditalic');
				pdf.setTextColor(0,82,155); // CEEK blue sampled from logo (hex: #00529b)
				yScale = yScale + 0.33;
				pdf.text("90% or Higher:", xScale, yScale);
				pdf.text("\u201CBalanced\u201D", xScale+1.26, yScale);
				yScale = halfSpacing(yScale, 1);
				pdf.text("75% to 89%:", xScale, yScale);
				pdf.text("\u201COccasionally Shaky\u201D", xScale+1.26, yScale);
				yScale = halfSpacing(yScale, 1);
				pdf.text("60% to 74%:", xScale, yScale);
				pdf.text("\u201CFrequently Shaky\u201D", xScale+1.26, yScale);
				yScale = halfSpacing(yScale, 1);
				pdf.text("Less Than 60%:", xScale, yScale);
				pdf.text("\u201CUnbalanced\u201D", xScale+1.26, yScale);

				// text area 2
				y3 = newline(y3, 4);
				pdf.setFontSize(11);
				pdf.setFontType('normal');
				pdf.setTextColor(0,0,0); // black
				txt = pdf.splitTextToSize("Based upon your identified priority areas and assessment results, you have a Life Balance Assessment Score of: " + score + "%. This score is consistent with a Life Balance Assessment rating of \u201C" + scoreType + "\u201D.", txtWidth);
				pdf.text(txt, x3, y3);

				//text area 3
				y3 = newline (y3, 4);

				if (scoreType == "Balanced") {
					txt = pdf.splitTextToSize("Your results are indicative of someone living a \u201CBalanced\u201D life. Such a rating is typically consistent with individuals that have a clear set of values and a compelling purpose or mission in their life. These values and a driving purpose bring clarity to your priorities. Your behaviors are consistent with your professed priorities. It is likely that you sustain a set of routines or recurring activities that reinforce the priority areas of your life. Furthermore, you are able to appreciate such routines and activities. In other words, you are commonly present to them without undue influence of the anxiety or stress associated with other commitments.\n\nIndividuals living a \u201CBalanced\u201D life are typically whole. You live an authentic life with enhanced clarity of who you are, what you desire, and how you live your life. We find that \u201CBalanced\u201D individuals are more likely to be fulfilled and at peace. Recognizing that we all face adversity in our lives, it is important for you to understand the source of your healthy balance. Just like any good business, you should develop contingency strategies to assess how you will best handle adversity if and when it occurs.", txtWidth);
					pdf.text(txt, x3, y3);
				} else if (scoreType == "Occasionally Shaky") {
					txt = pdf.splitTextToSize("Your results are indicative of someone living an \u201COccasionally Shaky\u201D life. Your professed priorities are generally consistent with demonstrated behaviors. You rating is reflective of individuals that live a relatively balanced life that is periodically dirupted. These disruptions may be the result of external circumstances that warrant a temporary reshuffling of your priorities. However, it is important to remember that you are in control of your priorities and associated Life Balance.\n\nWhile you may have a clear set of priorities and the values or purpose that feed those priorities, your behaviors are not always consistent with your professed priorities. It is likely that you have some routines or recurring activities that help reinforce the priority areas of your life. However, you may not be consistent in the follow through on such commitments, occasionally allowing other less important demands to infringe upon such activities. It is also possible that other life stresses may occasionally detract from your presence to activities that are consistent with your professed priorities.\n\nThough individuals living an \u201COccasionally Shaky\u201D life may feel overwhelmed at times, you are generally fulfilled and content with the circumstances of your life. Most commony, you have good self-awareness and are intentional in most of the commitments and choices that you make. Because you occasionally lack healthy balance, it important to assess how well equipped you are to handle adversity that may apply pressure to the priorities in your life. Just like any good business, you should develop contingency strategies to assess how you will best handle adversity if and when it occurs.", txtWidth);
					pdf.text(txt, x3, y3);
				} else if (scoreType == "Frequently Shaky") {
					txt = pdf.splitTextToSize("Your results are indicative of someone living a \u201CFrequently Shaky\u201D life. Your professed priorities are inconsistent with demonstrated behaviors. Your rating is reflective of individuals whose priorities are commonly dirupted. These disruptions may be the result of external circumstances that warrant a temporary reshuffling of your priorities. Alternatively, you may be in the midst of some adversity or life circumstance that warrants focus in one priority area of your life at the expense of others. Regardless of the circumstances, it is important to remember that you are in control of your priorities and associated Life Balance.\n\nIt is possible that you do not have a clear set of priorities at this stage of your life. If you have not done so already, you may want to revisit your core values and/or what may be a compelling purpose or mission that should influence or drive your priorities.\n\nIf you have an identified set of routines or recurring activities that help reinforce the priority areas of your life, it is likely that you are not able to effectively sustain such commitments. Individuals characterized as \u201CFrequently Shaky\u201D often allow less important demands to infringe upon routines or activities that reinforce professed priorities. It is also common that other life stresses may frequently detract from your presence to any activities that may be consistent with your professed priorities.\n\nIndividuals living a \u201CFrequently Shaky\u201D life can feel overwhelmed. Though you may have a sense of self and/or aspire to a compelling purpose, you are unable to consistently live the life you desire. Often, individuals in this category are unfulfilled in their profession and/or struggle to find sustained peace in their lives. Because you frequently lack healthy balance, you may not be equipped to handle adversity that may further apply pressure to the priorities in your life. It is important to clarify your priorities at this stage of your life and to set a foundation of supporting routines and activities that are sustained in a manner consistent with those priorities.", txtWidth);
					pdf.text(txt, x3, y3);
				} else if (scoreType == "Unbalanced") {
					txt = pdf.splitTextToSize("Your results are indicative of someone living an \u201CUnbalanced\u201D life. Your professed priorities are are often inconsistent with demonstrated behaviors. Your rating is reflective of individuals whose priorities are not well known or are otherwise consistently dirupted. These disruptions may be the result of external circumstances that warrant a reshuffling of your priorities. Alternatively, you may be in the midst of some adversity or life circumstance that warrants extended focus in one priority area of your life at the expense of the others. Regardless of the circumstances, it is important to begin the process to restore some semblance of healthy Life Balance.\n\nIt is likely that you do not have a clear set of priorities at this stage of your life. If you have not done so already, you may want to revisit your core values and/or what may be a compelling purpose or mission that should influence or drive your priorities.\n\nIt is common that individuals leading an \u201CUnbalanced\u201D life either have not defined or are unable to sustain a set of routines or recurring activities that help reinforce the priority areas of their life. Individuals characterized as \u201CUnbalanced\u201D commonly allow less important demands to infringe upon routines or activities that reinforce professed priorities. It is also common that other life stresses frequently detract from your presence to any activities that may be consistent with your professed priorities.\n\nIndividuals living an \u201CUnbalanced\u201D life often feel overwhelmed and are unable to consistently live the life they desire. Many individuals in this category are unfulfilled in their profession and/or are unable to attain sustained peace in their lives. Because you lack healthy balance, you may not be equipped to handle additional adversity that may further apply pressure to the priorities in your life. It is important to clarify your priorities at this stage of your life and to take modest steps that will set a foundation for restoring some balance in your life.", txtWidth);
					pdf.text(txt, x3, y3);
				}

				//PAGE 4
				newPage();
				var x4 = xNew; // x page 4
				var y4 = yNewPage; // y page 4
				txt = pdf.splitTextToSize("The following bar chart compares your Balance Assessment Score to the average values reported within your specified Age Range, Gender, Country, Highest Educational Level, Primary Working Status, Occupational Category, Years in Current Occupation, and Annual Household Income.", txtWidth);
				pdf.text(txt, x4, y4);
				// put graph here
				txt = pdf.splitTextToSize("The remainder of this report further details the findings associated with your completion of the Life Balance Assessment. We summarize professed priorities and your willingness to sacrifice one priority area in favor of another (Section 3). We evaluate sources of tension based upon sacrifices made that conflict with professed priorities (Section 4). And, we identify potential sources for \u2018slack\u2019 in which you could consider a reallocation of time and resources consistent with professed priorities (Section 5). The report concludes with a summary of findings and recommendations to pursue enhanced Life Balance (Section 6). Lastly, we offer templates to assist further assist as you develop and assessment plans of action to enhance or sustain healthy Life Balance.", txtWidth);
				pdf.text(txt, x4, 5); // adjust this based on graph placement

				// PAGE 5
				newPage();
				newSection(3, "Assessment of Priorities");
				var x5 = xNew;
				var y5 = yNewSection;
				txt = pdf.splitTextToSize("Based upon your \u2018willingness\u2019 to sacrifice one priority area for another, the following list conveys your \u2018professed\u2019 priorities among the areas of your life that you specified.", txtWidth);
				pdf.text(txt, x5, y5);
				y2 = listBuffer(y3, 2);
				//numberedList(); priority area scores


				// remove lines later - show top and bottom border boundaries
				/*pdf.setLineWidth(lineWidth);
				pdf.setDrawColor(0,0,0); // black
				pdf.line(1, 1, 7.5, 1); // (x1, y1, x2, y2)
				pdf.line(1, 10, 7.5, 10); // (x1, y1, x2, y2)*/
				
				// CEEK LBA Report - FirstName LastName Year-Month-Day
				pdf.save("CEEK LBA Report " + fullName + " " + d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate() + ".pdf");
				// getMonth() returns a number 0-11 so 1 is added to account for this
			});

			function writeMonth(num) {
				if (num == 0) {
					return "January";
				} else if (num == 1) {
					return "February";
				} else if (num == 2) {
					return "March";
				} else if (num == 3) {
					return "April";
				} else if (num == 4) {
					return "May";
				} else if (num == 5) {
					return "June";
				} else if (num == 6) {
					return "July";
				} else if (num == 7) {
					return "August";
				} else if (num == 8) {
					return "September";
				} else if (num == 9) {
					return "October";
				} else if (num == 10) {
					return "November";
				} else if (num == 11) {
					return "December";
				}
			}

			function newPage() {
				pageNum++;
				pdf.addPage();
				pdf.addImage(imgHeader,'PNG', 0, 0, 8.5, 0.8807);
				pdf.addImage(imgFooter, 'PNG', 0, 10.1063, 8.5, 0.8937);

				// header text
				var x = 1;
				var y = 0.6;
				pdf.setFontSize(9);
				pdf.setFontType('bold');
				pdf.setTextColor(255,255,255); // white
				pdf.text("CEEK LIFE Balance Assessment Report", x, y);
				pdf.text(fullName, x, y+0.15);

				// footer text
				y = 10.435;
				pdf.setFontType('normal');
				pdf.setTextColor(0,0,0); // black
				pdf.text("Page " + pageNum, x, y);
				pdf.text("CEEK Proprietary and Confidential", 4.25, y, 'center'); // used for perfect centering - X coordinate is center of string
				pdf.text(fullDate, 7.5, y, 'right'); // needed because length of date string varies - X coordinate is rightmost edge of string

				// resets font formatting since the first text areas after all sections share this formatting
				pdf.setTextColor(0,0,0);
				pdf.setFontSize(11);
				pdf.setFontType('normal');
			}

			function newSection(num, subtitle) {
				// subtitle text
				// Dubai is not an available font so Helvetica was used instead to match the website (set before page 1)
				pdf.setFontSize(24);
				pdf.setFontType('normal');
				pdf.setTextColor(0,82,155); // CEEK blue sampled from logo (hex: #00529b)
				pdf.text(num + ". " + subtitle, 4.25, ySubtitle, 'center'); // used for perfect centering - X coordinate is center of string
				// subtitle string length varies so centering has to be used

				// subtitle line
				pdf.setLineWidth(lineWidth);
				pdf.setDrawColor(0,0,0); // black
				pdf.line(1, ySubtitleLine, 7.5, ySubtitleLine); // (x1, y1, x2, y2)

				// resets font formatting since the first text areas after all sections share this formatting
				pdf.setTextColor(0,0,0);
				pdf.setFontSize(11);
				pdf.setFontType('normal');
			}

			function newAttachment(num, subtitle) {
				// subtitle text
				// Dubai is not an available font so Helvetica was used instead to match the website (set before page 1)
				pdf.setFontSize(24);
				pdf.setFontType('normal');
				pdf.setTextColor(0,82,155); // CEEK blue sampled from logo (hex: #00529b)
				pdf.text("Attachment " + num + ": " + subtitle, 4.25, ySubtitle, 'center'); // used for perfect centering - X coordinate is center of string
				// subtitle string length varies so centering has to be used

				// subtitle line
				pdf.setLineWidth(lineWidth);
				pdf.setDrawColor(0,0,0); // black
				pdf.line(1, ySubtitleLine, 7.5, ySubtitleLine); // (x1, y1, x2, y2)

				// resets font formatting since the first text areas after all sections share this formatting
				pdf.setTextColor(0,0,0);
				pdf.setFontSize(11);
				pdf.setFontType('normal');
			}

			function newline(line1, numLines) { // used after images and before text areas or as a manual newline
				// 0.1757 = line spacing - calculated spacing between Arial 11 pt font lines
				/*takes the original y coordinate, jumps to the bottom of the line based on the number of 
				lines passed in and set line spacing*/
				// add extra lines to create double, triple spacing, etc.
				return line1+(0.1757*numLines);
			}

			function halfSpacing(line1, numLines) { // used after images and before text areas or as a manual newline
				// 0.1757 = line spacing - calculated spacing between Arial 11 pt font lines
				// 0.08785 = half line spacing - calculated half spacing between Arial 11 pt font lines
				// 0.26335 = 1.5 line spacing - total of line spacing and half line spacing between Arial 11 pt font lines
				/*takes the original y coordinate, jumps to the bottom of the line based on the number of 
				lines passed in and set line spacing*/
				// add extra lines to create double, triple spacing, etc.
				return line1+(0.26355*numLines);
			}

			function imgBuffer(line1, numLines) { // used after text areas and before images
				// 0.1757 = line spacing - calculated spacing between Arial 11 pt font lines
				// 0.0645 = text whitespace buffer - the whitespace between Arial 11 pt font lines
				/*takes the original coordinate, jumps to the bottom of the line based on the number of 
				lines passed in and set line spacing, adds a buffer to reach the start of the image since 
				pictures start at the top left corner with provided coordinates (unlike text, which starts 
				in the bottom left corner of provided coordinates)*/
				// add extra lines to create double, triple spacing, etc.
				return line1+(0.1757*numLines)+0.0645;
			}

			function listBuffer(line1, numLines) { // used before bullet point and numbered list sections
				// 0.1757 = line spacing - calculated spacing between Arial 11 pt font lines
				// 0.08785 = 1.5 line spacing - half of calculated line spacing between Arial 11 pt font lines
				/*takes the original y coordinate, jumps to the bottom of the line based on the number of 
				lines passed in and set line spacing*/
				// add extra lines to create double, triple spacing, etc.
				return line1+(0.1757*numLines)+0.08785;
			}

			function bulletPoint(text, y) {
				// U+2022 = bullet point
				pdf.setFontSize(18);
				pdf.text("\u2022", 1.28, y+0.026);
				pdf.setFontSize(11);
				pdf.text(text, 1.48, y);
			}

			function lmhScale(num) {
				if (num >= 1 && num <= 4) {
					return num + " (Low)";
				} else if (num >= 5 && num <= 7) {
					return num + " (Medium)";
				} else if (num >= 8 && num <= 10) {
					return num + " (High)";
				}
			}

			function bulletList(array, y) {
				for (var i = 0; i < array.length; i++) {
					// U+2022 = bullet point
					// makes the font bigger because the bullet character is too small
					pdf.setFontSize(18);
					pdf.text("\u2022", 1.28, y+0.026);
					// list text
					pdf.setFontSize(bodyFontSize);
					pdf.text(array[i], 1.48, y);
					y = newline(y, 1);
				}
			}

			function numberedList(array, y) {
				for (var i = 0; i < array.length; i++) {
					// number
					pdf.text((i+1) + ".", 1.28, y);
					// list text
					pdf.text(array[i], 1.48, y);
					y = newline(y, 1);
				}
			}
		</script>
	</footer>
</html>